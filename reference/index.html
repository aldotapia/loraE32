
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.6">
    
    
      
        <title>Reference - EBYTE E32 series LoRa modules</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pin-layout-e32-868t20d-sx1276-868mhz-100mw-dip-wireless-module" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="EBYTE E32 series LoRa modules" class="md-header__button md-logo" aria-label="EBYTE E32 series LoRa modules" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EBYTE E32 series LoRa modules
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Reference
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="EBYTE E32 series LoRa modules" class="md-nav__button md-logo" aria-label="EBYTE E32 series LoRa modules" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    EBYTE E32 series LoRa modules
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Reference
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pin-layout-e32-868t20d-sx1276-868mhz-100mw-dip-wireless-module" class="md-nav__link">
    Pin layout E32-868T20D (SX1276 868MHz 100mW DIP Wireless Module)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transmission-modes" class="md-nav__link">
    Transmission modes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-modes" class="md-nav__link">
    Operating modes :
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-for-class-ebytee32" class="md-nav__link">
    Reference for class ebyteE32
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loraE32cp" class="md-nav__link">
    loraE32cp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32" class="md-nav__link">
    ebyteE32
  </a>
  
    <nav class="md-nav" aria-label="ebyteE32">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.calcChecksum" class="md-nav__link">
    calcChecksum()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.calcFrequency" class="md-nav__link">
    calcFrequency()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.decodeConfig" class="md-nav__link">
    decodeConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.encodeConfig" class="md-nav__link">
    encodeConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.getConfig" class="md-nav__link">
    getConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.getVersion" class="md-nav__link">
    getVersion()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.loadConfigFromJson" class="md-nav__link">
    loadConfigFromJson()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.recvMessage" class="md-nav__link">
    recvMessage()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.reset" class="md-nav__link">
    reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.saveConfigToJson" class="md-nav__link">
    saveConfigToJson()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.sendCommand" class="md-nav__link">
    sendCommand()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.sendMessage" class="md-nav__link">
    sendMessage()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.setConfig" class="md-nav__link">
    setConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.setOperationMode" class="md-nav__link">
    setOperationMode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.setTransmissionMode" class="md-nav__link">
    setTransmissionMode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.showConfig" class="md-nav__link">
    showConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.waitForDeviceIdle" class="md-nav__link">
    waitForDeviceIdle()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        Examples index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../basic/" class="md-nav__link">
        Basic example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pin-layout-e32-868t20d-sx1276-868mhz-100mw-dip-wireless-module" class="md-nav__link">
    Pin layout E32-868T20D (SX1276 868MHz 100mW DIP Wireless Module)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transmission-modes" class="md-nav__link">
    Transmission modes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-modes" class="md-nav__link">
    Operating modes :
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-for-class-ebytee32" class="md-nav__link">
    Reference for class ebyteE32
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loraE32cp" class="md-nav__link">
    loraE32cp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32" class="md-nav__link">
    ebyteE32
  </a>
  
    <nav class="md-nav" aria-label="ebyteE32">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.calcChecksum" class="md-nav__link">
    calcChecksum()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.calcFrequency" class="md-nav__link">
    calcFrequency()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.decodeConfig" class="md-nav__link">
    decodeConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.encodeConfig" class="md-nav__link">
    encodeConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.getConfig" class="md-nav__link">
    getConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.getVersion" class="md-nav__link">
    getVersion()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.loadConfigFromJson" class="md-nav__link">
    loadConfigFromJson()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.recvMessage" class="md-nav__link">
    recvMessage()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.reset" class="md-nav__link">
    reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.saveConfigToJson" class="md-nav__link">
    saveConfigToJson()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.sendCommand" class="md-nav__link">
    sendCommand()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.sendMessage" class="md-nav__link">
    sendMessage()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.setConfig" class="md-nav__link">
    setConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.setOperationMode" class="md-nav__link">
    setOperationMode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.setTransmissionMode" class="md-nav__link">
    setTransmissionMode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.showConfig" class="md-nav__link">
    showConfig()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loraE32cp.ebyteE32.waitForDeviceIdle" class="md-nav__link">
    waitForDeviceIdle()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Reference</h1>

<p>MicroPython class for EBYTE E32 Series LoRa modules which are based  on SEMTECH SX1276/SX1278 chipsets and are available for 170, 433, 470, 868 and 915MHz frequencies in 100mW and 1W transmitting power versions. They all use a simple UART interface to control the device.</p>
<h2 id="pin-layout-e32-868t20d-sx1276-868mhz-100mw-dip-wireless-module">Pin layout E32-868T20D (SX1276 868MHz 100mW DIP Wireless Module)</h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a> +---------------------------------------------+
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a> | 0 - M0  (set mode)        [*]               |
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a> | 0 - M1  (set mode)        [*]               |
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a> | 0 - RXD (TTL UART input)  [*]               |
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a> | 0 - TXD (TTL UART output) [*]               |
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a> | 0 - AUX (device status)   [*]               |
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a> | 0 - VCC (3.3-5.2V)                          +---+
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a> | 0 - GND (GND)                                SMA| Antenna
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a> +-------------------------------------------------+
</code></pre></div>
<strong>ALL COMMUNICATION PINS ARE 3.3V !!!</strong></p>
<h2 id="transmission-modes">Transmission modes</h2>
<ul>
<li>
<p>Transparent : all modules have the same address and channel and can send/receive messages to/from each other. No address and channel is included in the message.</p>
</li>
<li>
<p>Fixed : all modules can have different addresses and channels. The transmission messages are prefixed with the destination address and channel information. If these differ from the settings of the transmitter, then the configuration of the module will be changed before the transmission. After the transmission is complete, the transmitter will revert to its prior configuration.</p>
<ol>
<li>
<p>Fixed P2P : The transmitted message has the address and channel information of the receiver. Only this module will receive the message. This is a point to point transmission between 2 modules.</p>
</li>
<li>
<p>Fixed Broadcast : The transmitted message has address FFFF and a channel. All modules with any address and the same channel of the message will receive it.</p>
</li>
<li>
<p>Fixed Monitor : The receiver has adress FFFF and a channel. It will receive messages from all modules with any address and the same channel as the receiver.</p>
</li>
</ol>
</li>
</ul>
<h2 id="operating-modes">Operating modes :</h2>
<ul>
<li>
<p>0=Normal (M0=0,M1=0) : UART and LoRa radio are on.</p>
</li>
<li>
<p>1=wake up (M0=1,M1=0) : Same as normal but preamble code is added to transmitted data to wake up the receiver.</p>
</li>
<li>
<p>2=power save (M0=0,M1=1) : UART is off, LoRa radio is on WOR(wake on radio) mode which means the device will turn on when there is data to be received. Transmission is not allowed.</p>
</li>
<li>
<p>3=sleep (M0=1,M1=1) : UART is on, LoRa radio is off. Is used to get/set module parameters or to reset the module.</p>
</li>
</ul>
<h2 id="reference-for-class-ebytee32">Reference for class ebyteE32</h2>


<div class="doc doc-object doc-module">


<a id="loraE32cp"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="loraE32cp.ebyteE32" class="doc doc-heading">
        <code>ebyteE32</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>Class to interface an ESP32 via serial commands to the EBYTE E32 Series LoRa modules</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>PORT</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with UART ports</p></td>
        </tr>
        <tr>
          <td><code>PARSTR</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with UART parity strings</p></td>
        </tr>
        <tr>
          <td><code>PARINV</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with UART parity inverted</p></td>
        </tr>
        <tr>
          <td><code>PARBIT</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with UART parity bits</p></td>
        </tr>
        <tr>
          <td><code>BAUDRATE</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with UART baudrates</p></td>
        </tr>
        <tr>
          <td><code>BAUDRATEINV</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with UART baudrates inverted</p></td>
        </tr>
        <tr>
          <td><code>DATARATE</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with LoRa datarates</p></td>
        </tr>
        <tr>
          <td><code>DATARATEINV</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with LoRa datarates inverted</p></td>
        </tr>
        <tr>
          <td><code>CMDS</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with commands</p></td>
        </tr>
        <tr>
          <td><code>OPERMODE</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with operating modes (set with M0 &amp; M1)</p></td>
        </tr>
        <tr>
          <td><code>FREQ</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with model frequencies ranges (MHz)</p></td>
        </tr>
        <tr>
          <td><code>FREQV</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with version info frequencies</p></td>
        </tr>
        <tr>
          <td><code>MAXPOWER</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with model maximum transmission power (mW)</p></td>
        </tr>
        <tr>
          <td><code>TRANSMODE</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with transmission modes</p></td>
        </tr>
        <tr>
          <td><code>IOMODE</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with I/O drive mode</p></td>
        </tr>
        <tr>
          <td><code>WUTIME</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with wireless wakeup times from sleep mode</p></td>
        </tr>
        <tr>
          <td><code>FEC</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with Forward Error Correction (FEC) mode</p></td>
        </tr>
        <tr>
          <td><code>TXPOWER</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary with transmission power T20/T27/T30 (dBm)</p></td>
        </tr>
    </tbody>
  </table>


        <details class="quote">
          <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-0-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-0-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-0-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-0-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-0-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-0-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-0-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-0-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-0-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-0-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-0-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-0-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="k">class</span> <span class="nc">ebyteE32</span><span class="p">:</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="sd">    Class to interface an ESP32 via serial commands to the EBYTE E32 Series LoRa modules</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">        PORT (dict): dictionary with UART ports</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="sd">        PARSTR (dict): dictionary with UART parity strings</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="sd">        PARINV (dict): dictionary with UART parity inverted</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">        PARBIT (dict): dictionary with UART parity bits</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">        BAUDRATE (dict): dictionary with UART baudrates</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="sd">        BAUDRATEINV (dict): dictionary with UART baudrates inverted</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="sd">        DATARATE (dict): dictionary with LoRa datarates</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="sd">        DATARATEINV (dict): dictionary with LoRa datarates inverted</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">        CMDS (dict): dictionary with commands</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">        OPERMODE (dict): dictionary with operating modes (set with M0 &amp; M1)</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">        FREQ (dict): dictionary with model frequencies ranges (MHz)</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">        FREQV (dict): dictionary with version info frequencies</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">        MAXPOWER (dict): dictionary with model maximum transmission power (mW)</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">        TRANSMODE (dict): dictionary with transmission modes</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">        IOMODE (dict): dictionary with I/O drive mode</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">        WUTIME (dict): dictionary with wireless wakeup times from sleep mode</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">        FEC (dict): dictionary with Forward Error Correction (FEC) mode</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">        TXPOWER (dict): dictionary with transmission power T20/T27/T30 (dBm)</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>    <span class="c1"># UART ports</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="n">PORT</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;U&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">board</span><span class="o">.</span><span class="n">TX</span><span class="p">,</span> <span class="n">board</span><span class="o">.</span><span class="n">RX</span><span class="p">],</span> <span class="s1">&#39;U1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">board</span><span class="o">.</span><span class="n">TX1</span><span class="p">,</span> <span class="n">board</span><span class="o">.</span><span class="n">RX1</span><span class="p">],</span> <span class="s1">&#39;U2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">board</span><span class="o">.</span><span class="n">TX2</span><span class="p">,</span> <span class="n">board</span><span class="o">.</span><span class="n">RX2</span><span class="p">],</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>            <span class="s1">&#39;U3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">board</span><span class="o">.</span><span class="n">TX3</span><span class="p">,</span> <span class="n">board</span><span class="o">.</span><span class="n">RX3</span><span class="p">],</span> <span class="s1">&#39;U4&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">board</span><span class="o">.</span><span class="n">TX4</span><span class="p">,</span> <span class="n">board</span><span class="o">.</span><span class="n">RX4</span><span class="p">]}</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="c1"># UART parity strings</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="n">PARSTR</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;8N1&#39;</span><span class="p">:</span> <span class="s1">&#39;00&#39;</span><span class="p">,</span> <span class="s1">&#39;8O1&#39;</span><span class="p">:</span> <span class="s1">&#39;01&#39;</span><span class="p">,</span> <span class="s1">&#39;8E1&#39;</span><span class="p">:</span> <span class="s1">&#39;10&#39;</span><span class="p">}</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>    <span class="n">PARINV</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="p">:</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">PARSTR</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>    <span class="c1"># UART parity bits</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span class="n">PARBIT</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>    <span class="c1"># UART baudrate</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>    <span class="n">BAUDRATE</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1200</span><span class="p">:</span> <span class="s1">&#39;000&#39;</span><span class="p">,</span> <span class="mi">2400</span><span class="p">:</span> <span class="s1">&#39;001&#39;</span><span class="p">,</span> <span class="mi">4800</span><span class="p">:</span> <span class="s1">&#39;010&#39;</span><span class="p">,</span> <span class="mi">9600</span><span class="p">:</span> <span class="s1">&#39;011&#39;</span><span class="p">,</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>                <span class="mi">19200</span><span class="p">:</span> <span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="mi">38400</span><span class="p">:</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="mi">57600</span><span class="p">:</span> <span class="s1">&#39;110&#39;</span><span class="p">,</span> <span class="mi">115200</span><span class="p">:</span> <span class="s1">&#39;111&#39;</span><span class="p">}</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span class="n">BAUDRINV</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="p">:</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">BAUDRATE</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span class="c1"># LoRa datarate</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="n">DATARATE</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;0.3k&#39;</span><span class="p">:</span> <span class="s1">&#39;000&#39;</span><span class="p">,</span> <span class="s1">&#39;1.2k&#39;</span><span class="p">:</span> <span class="s1">&#39;001&#39;</span><span class="p">,</span> <span class="s1">&#39;2.4k&#39;</span><span class="p">:</span> <span class="s1">&#39;010&#39;</span><span class="p">,</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>                <span class="s1">&#39;4.8k&#39;</span><span class="p">:</span> <span class="s1">&#39;011&#39;</span><span class="p">,</span> <span class="s1">&#39;9.6k&#39;</span><span class="p">:</span> <span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="s1">&#39;19.2k&#39;</span><span class="p">:</span> <span class="s1">&#39;101&#39;</span><span class="p">}</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="n">DATARINV</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="p">:</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">DATARATE</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>    <span class="c1"># Commands</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="n">CMDS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;setConfigPwrDwnSave&#39;</span><span class="p">:</span> <span class="mh">0xC0</span><span class="p">,</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>            <span class="s1">&#39;getConfig&#39;</span><span class="p">:</span> <span class="mh">0xC1</span><span class="p">,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>            <span class="s1">&#39;setConfigPwrDwnNoSave&#39;</span><span class="p">:</span> <span class="mh">0xC2</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>            <span class="s1">&#39;getVersion&#39;</span><span class="p">:</span> <span class="mh">0xC3</span><span class="p">,</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>            <span class="s1">&#39;reset&#39;</span><span class="p">:</span> <span class="mh">0xC4</span><span class="p">}</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>    <span class="c1"># operation modes (set with M0 &amp; M1)</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>    <span class="n">OPERMODE</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;normal&#39;</span><span class="p">:</span> <span class="s1">&#39;00&#39;</span><span class="p">,</span> <span class="s1">&#39;wakeup&#39;</span><span class="p">:</span> <span class="s1">&#39;10&#39;</span><span class="p">,</span> <span class="s1">&#39;powersave&#39;</span><span class="p">:</span> <span class="s1">&#39;01&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep&#39;</span><span class="p">:</span> <span class="s1">&#39;11&#39;</span><span class="p">}</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>    <span class="c1"># model frequency ranges (MHz)</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>    <span class="n">FREQ</span> <span class="o">=</span> <span class="p">{</span><span class="mi">170</span><span class="p">:</span> <span class="p">[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">173</span><span class="p">],</span> <span class="mi">400</span><span class="p">:</span> <span class="p">[</span><span class="mi">410</span><span class="p">,</span> <span class="mi">470</span><span class="p">,</span> <span class="mi">525</span><span class="p">],</span> <span class="mi">433</span><span class="p">:</span> <span class="p">[</span><span class="mi">410</span><span class="p">,</span> <span class="mi">433</span><span class="p">,</span> <span class="mi">441</span><span class="p">],</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>            <span class="mi">868</span><span class="p">:</span> <span class="p">[</span><span class="mi">862</span><span class="p">,</span> <span class="mi">868</span><span class="p">,</span> <span class="mi">893</span><span class="p">],</span> <span class="mi">915</span><span class="p">:</span> <span class="p">[</span><span class="mi">900</span><span class="p">,</span> <span class="mi">915</span><span class="p">,</span> <span class="mi">931</span><span class="p">]}</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>    <span class="c1"># version info frequency</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>    <span class="n">FREQV</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;0x32&#39;</span><span class="p">:</span> <span class="mi">433</span><span class="p">,</span> <span class="s1">&#39;0x38&#39;</span><span class="p">:</span> <span class="mi">470</span><span class="p">,</span> <span class="s1">&#39;0x45&#39;</span><span class="p">:</span> <span class="mi">868</span><span class="p">,</span> <span class="s1">&#39;0x44&#39;</span><span class="p">:</span> <span class="mi">915</span><span class="p">,</span> <span class="s1">&#39;0x46&#39;</span><span class="p">:</span> <span class="mi">170</span><span class="p">}</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>    <span class="c1"># model maximum transmission power</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span class="c1"># 20dBm = 100mW - 27dBm = 500 mW - 30dBm = 1000 mW (1 W)</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>    <span class="n">MAXPOW</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;T20&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;T27&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;T30&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span class="c1"># transmission mode</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>    <span class="n">TRANSMODE</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;transparent&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;fixed&#39;</span><span class="p">}</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span class="c1"># IO drive mode</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>    <span class="n">IOMODE</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;TXD AUX floating output, RXD floating input&#39;</span><span class="p">,</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>              <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;TXD AUX push-pull output, RXD pull-up input&#39;</span><span class="p">}</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>    <span class="c1"># wireless wakeup times from sleep mode</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>    <span class="n">WUTIME</span> <span class="o">=</span> <span class="p">{</span><span class="mb">0b000</span><span class="p">:</span> <span class="s1">&#39;250ms&#39;</span><span class="p">,</span> <span class="mb">0b001</span><span class="p">:</span> <span class="s1">&#39;500ms&#39;</span><span class="p">,</span> <span class="mb">0b010</span><span class="p">:</span> <span class="s1">&#39;750ms&#39;</span><span class="p">,</span> <span class="mb">0b011</span><span class="p">:</span> <span class="s1">&#39;1000ms&#39;</span><span class="p">,</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>              <span class="mb">0b100</span><span class="p">:</span> <span class="s1">&#39;1250ms&#39;</span><span class="p">,</span> <span class="mb">0b101</span><span class="p">:</span> <span class="s1">&#39;1500ms&#39;</span><span class="p">,</span> <span class="mb">0b110</span><span class="p">:</span> <span class="s1">&#39;1750ms&#39;</span><span class="p">,</span> <span class="mb">0b111</span><span class="p">:</span> <span class="s1">&#39;2000ms&#39;</span><span class="p">}</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>    <span class="c1"># Forward Error Correction (FEC) mode</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>    <span class="n">FEC</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;on&#39;</span><span class="p">}</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>    <span class="c1"># transmission power T20/T27/T30 (dBm)</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>    <span class="n">TXPOWER</span> <span class="o">=</span> <span class="p">{</span><span class="mb">0b00</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;20dBm&#39;</span><span class="p">,</span> <span class="s1">&#39;27dBm&#39;</span><span class="p">,</span> <span class="s1">&#39;30dBm&#39;</span><span class="p">],</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>               <span class="mb">0b01</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;17dBm&#39;</span><span class="p">,</span> <span class="s1">&#39;24dBm&#39;</span><span class="p">,</span> <span class="s1">&#39;27dBm&#39;</span><span class="p">],</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>               <span class="mb">0b10</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;14dBm&#39;</span><span class="p">,</span> <span class="s1">&#39;21dBm&#39;</span><span class="p">,</span> <span class="s1">&#39;24dBm&#39;</span><span class="p">],</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>               <span class="mb">0b11</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;10dBm&#39;</span><span class="p">,</span> <span class="s1">&#39;18dBm&#39;</span><span class="p">,</span> <span class="s1">&#39;21dBm&#39;</span><span class="p">]}</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PinM0</span><span class="p">,</span> <span class="n">PinM1</span><span class="p">,</span> <span class="n">PinAUX</span><span class="p">,</span> <span class="n">Model</span><span class="o">=</span><span class="s1">&#39;868T20D&#39;</span><span class="p">,</span> <span class="n">Port</span><span class="o">=</span><span class="s1">&#39;U1&#39;</span><span class="p">,</span> <span class="n">Baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">,</span> <span class="n">Parity</span><span class="o">=</span><span class="s1">&#39;8N1&#39;</span><span class="p">,</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>                 <span class="n">AirDataRate</span><span class="o">=</span><span class="s1">&#39;2.4k&#39;</span><span class="p">,</span> <span class="n">Address</span><span class="o">=</span><span class="mh">0x0000</span><span class="p">,</span> <span class="n">Channel</span><span class="o">=</span><span class="mh">0x06</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">        constructor for ebyte E32 LoRa module</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">            &gt;&gt;&gt; import board</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">            &gt;&gt;&gt; import ebyteE32</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">            &gt;&gt;&gt; M0pin = board.D2</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">            &gt;&gt;&gt; M1pin = board.D3</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">            &gt;&gt;&gt; AUXpin = board.D4</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">            &gt;&gt;&gt; e32 = ebyteE32(board.D2, board.D3, board.D4, Port=&#39;U2&#39;, Address=0x0001, Channel=0x04)</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">            &gt;&gt;&gt; e32.start()</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">            &#39;OK&#39;</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">            &gt;&gt;&gt; e32.stop()</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">            &#39;OK&#39;</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">            PinM0 (Pin): pin identifier for M0</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">            PinM1 (Pin): pin identifier for M1</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">            PinAUX (Pin): pin identifier for AUX</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">            Model (str): model of the module (default: &#39;868T20D&#39;)</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">            Port (str): UART port identifier (default: &#39;U1&#39;)</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">            Baudrate (int): UART baudrate (default: 9600)</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">            Parity (str): UART parity (default: &#39;8N1&#39;)</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">            AirDataRate (str): LoRa air data rate (default: &#39;2.4k&#39;)</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">            Address (int): LoRa address (default: 0x0000)</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">            Channel (int): LoRa channel (default: 0x06)</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">            debug (bool): debug mode (default: False)</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>        <span class="c1"># configuration in dictionary</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="n">Model</span><span class="p">,</span> <span class="s1">&#39;port&#39;</span><span class="p">:</span> <span class="n">Port</span><span class="p">,</span> <span class="s1">&#39;baudrate&#39;</span><span class="p">:</span> <span class="n">Baudrate</span><span class="p">,</span> <span class="s1">&#39;parity&#39;</span><span class="p">:</span> <span class="n">Parity</span><span class="p">,</span> <span class="s1">&#39;datarate&#39;</span><span class="p">:</span> <span class="n">AirDataRate</span><span class="p">,</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>                       <span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="n">Address</span><span class="p">,</span> <span class="s1">&#39;channel&#39;</span><span class="p">:</span> <span class="n">Channel</span><span class="p">}</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">calcFrequency</span><span class="p">()</span>  <span class="c1"># calculate frequency (min frequency + channel*1 MHz)</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># transmission mode (default 0 - tranparent)</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;iomode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># IO mode (default 1 = not floating)</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;wutime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># wakeup time from sleep mode (default 0 = 250ms)</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;fec&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># forward error correction (default 1 = on)</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;txpower&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># transmission power (default 0 = 20dBm/100mW)</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="c1">#</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">PinM0</span> <span class="o">=</span> <span class="n">PinM0</span>  <span class="c1"># M0 pin number</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">PinM1</span> <span class="o">=</span> <span class="n">PinM1</span>  <span class="c1"># M1 pin number</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">PinAUX</span> <span class="o">=</span> <span class="n">PinAUX</span>  <span class="c1"># AUX pin number</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">M0</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># instance for M0 Pin (set operation mode)</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">M1</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># instance for M1 Pin (set operation mode)</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># instance for AUX Pin (device status : 0=busy - 1=idle)</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># instance for UART</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">        Start the ebyte E32 LoRa module</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">            E (Error): if error on start UART</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>            <span class="c1"># check parameters</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">FREQ</span><span class="p">:</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;868T20D&#39;</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PORT</span><span class="p">:</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;U1&#39;</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">BAUDRATE</span><span class="p">:</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9600</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PARSTR</span><span class="p">:</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;8N1&#39;</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">DATARATE</span><span class="p">:</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;2.4k&#39;</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">31</span><span class="p">:</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">31</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>            <span class="c1"># make UART instance</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span> <span class="o">=</span> <span class="n">busio</span><span class="o">.</span><span class="n">UART</span><span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">PORT</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>                                     <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PORT</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">])[</span><span class="mi">1</span><span class="p">],</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>            <span class="c1"># init UART</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>            <span class="n">par</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PARBIT</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">])[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>            <span class="c1"># self.serdev.init(baudrate=self.config[&#39;baudrate&#39;], bits=8, parity=par, stop=1)</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>                <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="p">)</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>            <span class="c1"># make operation mode &amp; device status instances</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">M0</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">DigitalInOut</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PinM0</span><span class="p">)</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">M0</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Direction</span><span class="o">.</span><span class="n">OUTPUT</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">M1</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">DigitalInOut</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PinM1</span><span class="p">)</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Direction</span><span class="o">.</span><span class="n">OUTPUT</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">DigitalInOut</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PinAUX</span><span class="p">)</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Direction</span><span class="o">.</span><span class="n">INPUT</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span><span class="o">.</span><span class="n">pull</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Pull</span><span class="o">.</span><span class="n">UP</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>                <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">M0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">M1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span><span class="p">)</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>            <span class="c1"># set config to the ebyte E32 LoRa module</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setConfig</span><span class="p">(</span><span class="s1">&#39;setConfigPwrDwnSave&#39;</span><span class="p">)</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>            <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error on start UART&quot;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>    <span class="k">def</span> <span class="nf">sendMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to_address</span><span class="p">,</span> <span class="n">to_channel</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">useChecksum</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">        Send the payload to ebyte E32 LoRa modules in transparent or fixed mode. The payload is a data dictionary to</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">        accomodate key value pairs commonly used to store sensor data and is converted to a JSON string before sending.</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">        The payload can be appended with a 2&#39;s complement checksum to validate correct transmission.</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">        - transparent mode : all modules with the same address and channel of the transmitter will receive the payload</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">        - fixed mode : only the module with this address and channel will receive the payload;</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">                       if the address is 0xFFFF all modules with the same channel will receive the payload</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">            &gt;&gt;&gt; sendMessage(0x0000, 0x06, {&#39;temperature&#39;: 25.5, &#39;humidity&#39;: 60.0}, True)</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">            &#39;OK&#39;</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">            to_address (int): target address (0x0000 - 0xFFFF)</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">            to_channel (int): target channel (0x00 - 0x1F)</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">            payload (dict): data dictionary to send</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">            useChecksum (bool): use 2&#39;s complement checksum (default: False)</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">            str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">            E (Error): if error on sendMessage</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>            <span class="c1"># type of transmission</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>            <span class="k">if</span> <span class="p">(</span><span class="n">to_address</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="n">to_channel</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]):</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>                <span class="c1"># transparent transmission mode</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>                <span class="c1"># all modules with the same address and channel will receive the payload</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">setTransmissionMode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>                <span class="c1"># fixed transmission mode</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>                <span class="c1"># only the module with the target address and channel will receive the payload</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">setTransmissionMode</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>            <span class="c1"># put into wakeup mode (includes preamble signals to wake up device in powersave or sleep mode)</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setOperationMode</span><span class="p">(</span><span class="s1">&#39;wakeup&#39;</span><span class="p">)</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>            <span class="c1"># check payload</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;payload is not a dictionary&#39;</span><span class="p">)</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>                <span class="k">return</span> <span class="s1">&#39;NOK&#39;</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>            <span class="c1"># encode message</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>            <span class="n">msg</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># only for fixed transmission mode</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>                <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_address</span> <span class="o">//</span> <span class="mi">256</span><span class="p">)</span>  <span class="c1"># high address byte</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>                <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_address</span> <span class="o">%</span> <span class="mi">256</span><span class="p">)</span>  <span class="c1"># low address byte</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>                <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_channel</span><span class="p">)</span>  <span class="c1"># channel</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>            <span class="n">js_payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>  <span class="c1"># convert payload to JSON string</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">js_payload</span><span class="p">)):</span>  <span class="c1"># message</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>                <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">js_payload</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>  <span class="c1"># ascii code of character</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>            <span class="k">if</span> <span class="n">useChecksum</span><span class="p">:</span>  <span class="c1"># attach 2&#39;s complement checksum</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>                <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calcChecksum</span><span class="p">(</span><span class="n">js_payload</span><span class="p">),</span> <span class="mi">16</span><span class="p">))</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>            <span class="c1"># debug</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>                <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>            <span class="c1"># wait for idle module</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">waitForDeviceIdle</span><span class="p">()</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>            <span class="c1"># send the message</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>            <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on sendMessage: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>    <span class="k">def</span> <span class="nf">recvMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">from_address</span><span class="p">,</span> <span class="n">from_channel</span><span class="p">,</span> <span class="n">useChecksum</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="sd">        Receive payload messages from ebyte E32 LoRa modules in transparent or fixed mode. The payload is a JSON string</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><span class="sd">        of a data dictionary to accomodate key value pairs commonly used to store sensor data. If checksumming is used, the</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a><span class="sd">        checksum of the received payload including the checksum byte should result in 0 for a correct transmission.</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><span class="sd">        - transparent mode : payload will be received if the module has the same address and channel of the transmitter</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a><span class="sd">        - fixed mode : only payloads from transmitters with this address and channel will be received;</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a><span class="sd">                       if the address is 0xFFFF, payloads from all transmitters with this channel will be received</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a><span class="sd">            &gt;&gt;&gt; recvMessage(0x0000, 0x06, True)</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a><span class="sd">            {&#39;temperature&#39;: 25.5, &#39;humidity&#39;: 60.0}</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">            from_address (int): source address (0x0000 - 0xFFFF)</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">            from_channel (int): source channel (0x00 - 0x1F)</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">            useChecksum (bool): use 2&#39;s complement checksum (default: False)</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">            dict: data dictionary with payload data if success, None if error</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">            E (Error): if error on recvMessage</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>            <span class="c1"># type of transmission</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>            <span class="k">if</span> <span class="p">(</span><span class="n">from_address</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="n">from_channel</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]):</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>                <span class="c1"># transparent transmission mode</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>                <span class="c1"># all modules with the same address and channel will receive the message</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">setTransmissionMode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>                <span class="c1"># fixed transmission mode</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>                <span class="c1"># only the module with the target address and channel will receive the message</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">setTransmissionMode</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>            <span class="c1"># put into normal mode</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setOperationMode</span><span class="p">(</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>            <span class="c1"># receive message</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>            <span class="n">js_payload</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>            <span class="c1"># debug</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>                <span class="nb">print</span><span class="p">(</span><span class="n">js_payload</span><span class="p">)</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>            <span class="c1"># did we receive anything ?</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>            <span class="k">if</span> <span class="n">js_payload</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>                <span class="c1"># nothing</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>                <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;msg&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>                <span class="c1"># decode message</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">js_payload</span><span class="p">)):</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>                    <span class="n">msg</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">js_payload</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>                <span class="c1"># checksum check</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>                <span class="k">if</span> <span class="n">useChecksum</span><span class="p">:</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>                    <span class="n">cs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calcChecksum</span><span class="p">(</span><span class="n">msg</span><span class="p">),</span> <span class="mi">16</span><span class="p">)</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>                    <span class="k">if</span> <span class="n">cs</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>                        <span class="c1"># corrupt</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>                        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;msg&#39;</span><span class="p">:</span> <span class="s1">&#39;corrupt message, checksum &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cs</span><span class="p">)}</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>                        <span class="c1"># message ok, remove checksum</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>                <span class="c1"># JSON to dictionary</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>                <span class="n">message</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>                <span class="k">return</span> <span class="n">message</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on recvMessage: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>    <span class="k">def</span> <span class="nf">calcChecksum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">):</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">        Calculates checksum for sending/receiving payloads. Sums the ASCII character values mod256 and returns</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">        the lower byte of the two&#39;s complement of that value in hex notation.</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">            &gt;&gt;&gt; calcChecksum(&#39;{&quot;temperature&quot;:25.5,&quot;humidity&quot;:60.0}&#39;)</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">            &#39;37&#39;</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">            payload (str): payload to calculate checksum for</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">            str: checksum in hex notation</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%2X</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">)</span> <span class="o">%</span> <span class="mi">256</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">        Reset the ebyte E32 Lora module</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">            &gt;&gt;&gt; reset()</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">            &#39;OK&#39;</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="sd">            str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">            E (Error): if error on reset</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>            <span class="c1"># send the command</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="s1">&#39;reset&#39;</span><span class="p">)</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>            <span class="c1"># discard result</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>            <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error on reset&quot;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="sd">        Stop the ebyte E32 LoRa module</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a><span class="sd">            &gt;&gt;&gt; stop()</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="sd">            &#39;OK&#39;</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a><span class="sd">            str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a><span class="sd">            E (Error): if error on stop</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>            <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error on stop UART&quot;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>    <span class="k">def</span> <span class="nf">sendCommand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a><span class="sd">        Send a command to the ebyte E32 LoRa module.</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="sd">        The module has to be in sleep mode</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a><span class="sd">            &gt;&gt;&gt; sendCommand(&#39;reset&#39;)</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a><span class="sd">            &#39;OK&#39;</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a><span class="sd">            command (str): command to send</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a><span class="sd">            str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a><span class="sd">            E (Error): if error on sendCommand</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>            <span class="c1"># put into sleep mode</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setOperationMode</span><span class="p">(</span><span class="s1">&#39;sleep&#39;</span><span class="p">)</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>            <span class="c1"># send command</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>            <span class="n">HexCmd</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">CMDS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>            <span class="k">if</span> <span class="n">HexCmd</span> <span class="ow">in</span> <span class="p">[</span><span class="mh">0xC0</span><span class="p">,</span> <span class="mh">0xC2</span><span class="p">]:</span>  <span class="c1"># set config to device</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>                <span class="n">header</span> <span class="o">=</span> <span class="n">HexCmd</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>                <span class="n">HexCmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encodeConfig</span><span class="p">()</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                <span class="n">HexCmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">header</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>            <span class="k">else</span><span class="p">:</span>  <span class="c1"># get config, get version, reset</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>                <span class="n">HexCmd</span> <span class="o">=</span> <span class="p">[</span><span class="n">HexCmd</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>                <span class="nb">print</span><span class="p">(</span><span class="n">HexCmd</span><span class="p">)</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">HexCmd</span><span class="p">))</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>            <span class="c1"># wait for result</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>            <span class="c1"># read result</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>            <span class="k">if</span> <span class="n">command</span> <span class="o">==</span> <span class="s1">&#39;reset&#39;</span><span class="p">:</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>                <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>                <span class="c1"># wait for result</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>                <span class="c1"># debug</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>            <span class="k">return</span> <span class="n">result</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on sendCommand: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>    <span class="k">def</span> <span class="nf">getVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a><span class="sd">        Get the version info from the ebyte E32 LoRa module</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a><span class="sd">            &gt;&gt;&gt; getVersion()</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a><span class="sd">            ================= E32 MODULE ===================</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a><span class="sd">            model       	433Mhz</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a><span class="sd">            version     	16</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a><span class="sd">            features    	30</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a><span class="sd">            ================================================</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a><span class="sd">            str: version info if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a><span class="sd">            E (Error): if error on getVersion</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>            <span class="c1"># send the command</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="s1">&#39;getVersion&#39;</span><span class="p">)</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>            <span class="c1"># check result</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">:</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>                <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>            <span class="c1"># decode result</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>            <span class="n">freq</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">FREQV</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="s1">&#39;unknown&#39;</span><span class="p">)</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>            <span class="c1"># show version</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>            <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mh">0xc3</span><span class="p">:</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;================= E32 MODULE ===================&#39;</span><span class="p">)</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;model       </span><span class="se">\t</span><span class="si">%d</span><span class="s1">Mhz&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">freq</span><span class="p">))</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;version     </span><span class="se">\t</span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;features    </span><span class="se">\t</span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;================================================&#39;</span><span class="p">)</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>            <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on getVersion: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>    <span class="k">def</span> <span class="nf">getConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="sd">        Get config parameters from the ebyte E32 LoRa module</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a><span class="sd">            &gt;&gt;&gt; getConfig()</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a><span class="sd">            =================== CONFIG =====================</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a><span class="sd">            model       	E32-868T20D</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a><span class="sd">            frequency   	866Mhz</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a><span class="sd">            address     	0x0001</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a><span class="sd">            channel     	0x04</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a><span class="sd">            datarate    	2.4kbps</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a><span class="sd">            port        	U2</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a><span class="sd">            baudrate    	9600bps</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a><span class="sd">            parity      	8N1</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a><span class="sd">            transmission	transparent</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a><span class="sd">            IO mode     	TXD AUX push-pull output, RXD pull-up input</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a><span class="sd">            wakeup time 	250ms</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a><span class="sd">            FEC         	on</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a><span class="sd">            TX power    	20dBm</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a><span class="sd">            ================================================</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a><span class="sd">            str: config parameters if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a><span class="sd">            E (Error): if error on getConfig</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>            <span class="c1"># send the command</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="s1">&#39;getConfig&#39;</span><span class="p">)</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>            <span class="c1"># check result</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span><span class="p">:</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>                <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>            <span class="c1"># decode result</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">decodeConfig</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>            <span class="c1"># show config</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">showConfig</span><span class="p">()</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>            <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on getConfig: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>    <span class="k">def</span> <span class="nf">decodeConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a><span class="sd">        decode the config message from the ebyte E32 LoRa module to update the config dictionary</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a><span class="sd">            &gt;&gt;&gt; decodeConfig([0xC0, 0x00, 0x00, 0x00, 0x00, 0x00])</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a><span class="sd">            message (list): config message to decode</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a><span class="sd">            None</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>        <span class="c1"># message byte 0 = header</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>        <span class="n">header</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>        <span class="c1"># message byte 1 &amp; 2 = address</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="mi">256</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>        <span class="c1"># message byte 3 = speed (parity, baudrate, datarate)</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>        <span class="n">bits</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0:08b}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PARINV</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">BAUDRINV</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">DATARINV</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">5</span><span class="p">:])</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>        <span class="c1"># message byte 4 = channel</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>        <span class="c1"># message byte 5 = option (transmode, iomode, wutime, fec, txpower)</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>        <span class="n">bits</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0:08b}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;iomode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;wutime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;fec&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;txpower&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">6</span><span class="p">:])</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>    <span class="k">def</span> <span class="nf">encodeConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">        encode the config dictionary to create the config message of the ebyte E32 LoRa module</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a><span class="sd">            &gt;&gt;&gt; encodeConfig()</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="sd">            [192, 0, 1, 26, 4, 68]</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">            list: config message if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>        <span class="c1"># Initialize config message</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>        <span class="n">message</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>        <span class="c1"># message byte 0 = header</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>        <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mh">0xC0</span><span class="p">)</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>        <span class="c1"># message byte 1 = high address</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>        <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span> <span class="o">//</span> <span class="mi">256</span><span class="p">)</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>        <span class="c1"># message byte 2 = low address</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>        <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="mi">256</span><span class="p">)</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>        <span class="c1"># message byte 3 = speed (parity, baudrate, datarate)</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>        <span class="n">bits</span> <span class="o">=</span> <span class="s1">&#39;0b&#39;</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>        <span class="n">bits</span> <span class="o">+=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PARSTR</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">])</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>        <span class="n">bits</span> <span class="o">+=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">BAUDRATE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">])</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>        <span class="n">bits</span> <span class="o">+=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">DATARATE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">])</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>        <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">))</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>        <span class="c1"># message byte 4 = channel</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>        <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">])</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>        <span class="c1"># message byte 5 = option (transmode, iomode, wutime, fec, txpower)</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>        <span class="n">bits</span> <span class="o">=</span> <span class="s1">&#39;0b&#39;</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>        <span class="n">bits</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">])</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>        <span class="n">bits</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;iomode&#39;</span><span class="p">])</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>        <span class="n">bits</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{0:03b}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;wutime&#39;</span><span class="p">])</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>        <span class="n">bits</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;fec&#39;</span><span class="p">])</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>        <span class="n">bits</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{0:02b}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;txpower&#39;</span><span class="p">])</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>        <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">))</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>        <span class="k">return</span> <span class="n">message</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>    <span class="k">def</span> <span class="nf">showConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a><span class="sd">        Show the config parameters of the ebyte E32 LoRa module on the shell</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a><span class="sd">            &gt;&gt;&gt; showConfig()</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a><span class="sd">            =================== CONFIG =====================</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a><span class="sd">            model       	E32-868T20D</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a><span class="sd">            frequency   	866Mhz</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a><span class="sd">            address     	0x0001</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a><span class="sd">            channel     	0x04</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a><span class="sd">            datarate    	2.4kbps</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a><span class="sd">            port        	U2</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a><span class="sd">            baudrate    	9600bps</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a><span class="sd">            parity      	8N1</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a><span class="sd">            transmission	transparent</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a><span class="sd">            IO mode     	TXD AUX push-pull output, RXD pull-up input</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a><span class="sd">            wakeup time 	250ms</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a><span class="sd">            FEC         	on</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a><span class="sd">            TX power    	20dBm</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a><span class="sd">            ================================================</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a><span class="sd">            str: with the config parameters</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;=================== CONFIG =====================&#39;</span><span class="p">)</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;model       </span><span class="se">\t</span><span class="s1">E32-</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;frequency   </span><span class="se">\t</span><span class="si">%d</span><span class="s1">Mhz&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;address     </span><span class="se">\t</span><span class="s1">0x</span><span class="si">%04x</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;channel     </span><span class="se">\t</span><span class="s1">0x</span><span class="si">%02x</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;datarate    </span><span class="se">\t</span><span class="si">%s</span><span class="s1">bps&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;port        </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;baudrate    </span><span class="se">\t</span><span class="si">%d</span><span class="s1">bps&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;parity      </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;transmission</span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">TRANSMODE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">])))</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;IO mode     </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">IOMODE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;iomode&#39;</span><span class="p">])))</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;wakeup time </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">WUTIME</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;wutime&#39;</span><span class="p">])))</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;FEC         </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">FEC</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;fec&#39;</span><span class="p">])))</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>        <span class="n">maxp</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">MAXPOW</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">][</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TX power    </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">TXPOWER</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;txpower&#39;</span><span class="p">])[</span><span class="n">maxp</span><span class="p">]))</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;================================================&#39;</span><span class="p">)</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>    <span class="k">def</span> <span class="nf">waitForDeviceIdle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a><span class="sd">        Wait for the E32 LoRa module to become idle (AUX pin high)</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a><span class="sd">            &gt;&gt;&gt; waitForDeviceIdle()</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a><span class="sd">            None</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a>        <span class="c1"># loop for device busy</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a>            <span class="c1"># increment count</span>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a>            <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a>            <span class="c1"># maximum wait time 100 ms</span>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a>            <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a>                <span class="k">break</span>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a>            <span class="c1"># sleep for 10 ms</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a>    <span class="k">def</span> <span class="nf">saveConfigToJson</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a><span class="sd">        Save config dictionary to JSON file</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a><span class="sd">            &gt;&gt;&gt; saveConfigToJson()</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a><span class="sd">            None</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/E32config.json&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>    <span class="k">def</span> <span class="nf">loadConfigFromJson</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a><span class="sd">        Load config dictionary from JSON file</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a><span class="sd">            &gt;&gt;&gt; loadConfigFromJson()</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a><span class="sd">            {&#39;parity&#39;: &#39;8N1&#39;, &#39;datarate&#39;: &#39;2.4k&#39;, &#39;model&#39;: &#39;868T20D&#39;, &#39;channel&#39;: 4, &#39;transmode&#39;: 0, &#39;port&#39;: &#39;U2&#39;, &#39;frequency&#39;: 866, &#39;baudrate&#39;: 9600, &#39;txpower&#39;: 0, &#39;iomode&#39;: 1, &#39;wutime&#39;: 0, &#39;address&#39;: 1, &#39;fec&#39;: 1}</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a><span class="sd">            dict: config dictionary</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;E32config.json&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a>    <span class="k">def</span> <span class="nf">calcFrequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a><span class="sd">        Calculate the frequency (= minimum frequency + channel * 1MHz)</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a><span class="sd">            &gt;&gt;&gt; calcFrequency()</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a><span class="sd">            None</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a>        <span class="c1"># get minimum and maximum frequency</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a>        <span class="n">freqkey</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a>        <span class="n">minfreq</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">FREQ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">freqkey</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a>        <span class="n">maxfreq</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">FREQ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">freqkey</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a>        <span class="c1"># calculate frequency</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a>        <span class="n">freq</span> <span class="o">=</span> <span class="n">minfreq</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a>        <span class="k">if</span> <span class="n">freq</span> <span class="o">&gt;</span> <span class="n">maxfreq</span><span class="p">:</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxfreq</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hex</span><span class="p">(</span><span class="n">maxfreq</span> <span class="o">-</span> <span class="n">minfreq</span><span class="p">)</span>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">freq</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a>    <span class="k">def</span> <span class="nf">setTransmissionMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transmode</span><span class="p">):</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a><span class="sd">        Set the transmission mode of the E32 LoRa module</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a><span class="sd">            &gt;&gt;&gt; setTransmissionMode(0)</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a><span class="sd">            transmode (int): 0 = transparent, 1 = fixed length</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a><span class="sd">            None</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>        <span class="k">if</span> <span class="n">transmode</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]:</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transmode</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setConfig</span><span class="p">(</span><span class="s1">&#39;setConfigPwrDwnSave&#39;</span><span class="p">)</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>    <span class="k">def</span> <span class="nf">setConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_cmd</span><span class="p">):</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a><span class="sd">        Set config parameters for the ebyte E32 LoRa module</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a><span class="sd">        Examples:</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a><span class="sd">            &gt;&gt;&gt; setConfig(&#39;setConfigPwrDwnSave&#39;)</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a><span class="sd">            &#39;OK&#39;</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a><span class="sd">            save_cmd (str): &#39;setConfigPwrDwnSave&#39; or &#39;setConfig&#39;</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a><span class="sd">            str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a>            <span class="c1"># send the command</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="n">save_cmd</span><span class="p">)</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a>            <span class="c1"># check result</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span><span class="p">:</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>                <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>            <span class="c1"># debug</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>                <span class="c1"># decode result</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">decodeConfig</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>                <span class="c1"># show config</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">showConfig</span><span class="p">()</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>            <span class="c1"># save config to json file</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">saveConfigToJson</span><span class="p">()</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>            <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on setConfig: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a>    <span class="k">def</span> <span class="nf">setOperationMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a><span class="sd">        Set operation mode of the E32 LoRa module</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a><span class="sd">       Examples:</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a><span class="sd">            &gt;&gt;&gt; setOperationMode(&#39;normal&#39;)</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a><span class="sd">            mode (str): &#39;normal&#39;, &#39;wakeup&#39;, &#39;powerdown&#39;, &#39;sleep&#39;</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a>        <span class="c1"># get operation mode settings (default normal)</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a>        <span class="n">bits</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">OPERMODE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="s1">&#39;00&#39;</span><span class="p">)</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>        <span class="c1"># set operation mode</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">M0</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a>        <span class="c1"># wait a moment</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">PinM0</span><span class="p">,</span> <span class="n">PinM1</span><span class="p">,</span> <span class="n">PinAUX</span><span class="p">,</span> <span class="n">Model</span><span class="o">=</span><span class="s1">&#39;868T20D&#39;</span><span class="p">,</span> <span class="n">Port</span><span class="o">=</span><span class="s1">&#39;U1&#39;</span><span class="p">,</span> <span class="n">Baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">,</span> <span class="n">Parity</span><span class="o">=</span><span class="s1">&#39;8N1&#39;</span><span class="p">,</span> <span class="n">AirDataRate</span><span class="o">=</span><span class="s1">&#39;2.4k&#39;</span><span class="p">,</span> <span class="n">Address</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Channel</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>constructor for ebyte E32 LoRa module</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">board</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ebyteE32</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">M0pin</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">D2</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">M1pin</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">D3</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">AUXpin</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">D4</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">e32</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">D2</span><span class="p">,</span> <span class="n">board</span><span class="o">.</span><span class="n">D3</span><span class="p">,</span> <span class="n">board</span><span class="o">.</span><span class="n">D4</span><span class="p">,</span> <span class="n">Port</span><span class="o">=</span><span class="s1">&#39;U2&#39;</span><span class="p">,</span> <span class="n">Address</span><span class="o">=</span><span class="mh">0x0001</span><span class="p">,</span> <span class="n">Channel</span><span class="o">=</span><span class="mh">0x04</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">e32</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="go">&#39;OK&#39;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">e32</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="go">&#39;OK&#39;</span>
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>PinM0</code></td>
          <td>
                <code>Pin</code>
          </td>
          <td><p>pin identifier for M0</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>PinM1</code></td>
          <td>
                <code>Pin</code>
          </td>
          <td><p>pin identifier for M1</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>PinAUX</code></td>
          <td>
                <code>Pin</code>
          </td>
          <td><p>pin identifier for AUX</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>Model</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>model of the module (default: '868T20D')</p></td>
          <td>
                <code>&#39;868T20D&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>Port</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>UART port identifier (default: 'U1')</p></td>
          <td>
                <code>&#39;U1&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>Baudrate</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>UART baudrate (default: 9600)</p></td>
          <td>
                <code>9600</code>
          </td>
        </tr>
        <tr>
          <td><code>Parity</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>UART parity (default: '8N1')</p></td>
          <td>
                <code>&#39;8N1&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>AirDataRate</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>LoRa air data rate (default: '2.4k')</p></td>
          <td>
                <code>&#39;2.4k&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>Address</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>LoRa address (default: 0x0000)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>Channel</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>LoRa channel (default: 0x06)</p></td>
          <td>
                <code>6</code>
          </td>
        </tr>
        <tr>
          <td><code>debug</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>debug mode (default: False)</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PinM0</span><span class="p">,</span> <span class="n">PinM1</span><span class="p">,</span> <span class="n">PinAUX</span><span class="p">,</span> <span class="n">Model</span><span class="o">=</span><span class="s1">&#39;868T20D&#39;</span><span class="p">,</span> <span class="n">Port</span><span class="o">=</span><span class="s1">&#39;U1&#39;</span><span class="p">,</span> <span class="n">Baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">,</span> <span class="n">Parity</span><span class="o">=</span><span class="s1">&#39;8N1&#39;</span><span class="p">,</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>             <span class="n">AirDataRate</span><span class="o">=</span><span class="s1">&#39;2.4k&#39;</span><span class="p">,</span> <span class="n">Address</span><span class="o">=</span><span class="mh">0x0000</span><span class="p">,</span> <span class="n">Channel</span><span class="o">=</span><span class="mh">0x06</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">    constructor for ebyte E32 LoRa module</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">        &gt;&gt;&gt; import board</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">        &gt;&gt;&gt; import ebyteE32</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">        &gt;&gt;&gt; M0pin = board.D2</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">        &gt;&gt;&gt; M1pin = board.D3</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">        &gt;&gt;&gt; AUXpin = board.D4</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">        &gt;&gt;&gt; e32 = ebyteE32(board.D2, board.D3, board.D4, Port=&#39;U2&#39;, Address=0x0001, Channel=0x04)</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">        &gt;&gt;&gt; e32.start()</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">        &#39;OK&#39;</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">        &gt;&gt;&gt; e32.stop()</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">        &#39;OK&#39;</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">        PinM0 (Pin): pin identifier for M0</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">        PinM1 (Pin): pin identifier for M1</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">        PinAUX (Pin): pin identifier for AUX</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">        Model (str): model of the module (default: &#39;868T20D&#39;)</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">        Port (str): UART port identifier (default: &#39;U1&#39;)</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">        Baudrate (int): UART baudrate (default: 9600)</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">        Parity (str): UART parity (default: &#39;8N1&#39;)</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        AirDataRate (str): LoRa air data rate (default: &#39;2.4k&#39;)</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">        Address (int): LoRa address (default: 0x0000)</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">        Channel (int): LoRa channel (default: 0x06)</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">        debug (bool): debug mode (default: False)</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>    <span class="c1"># configuration in dictionary</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="n">Model</span><span class="p">,</span> <span class="s1">&#39;port&#39;</span><span class="p">:</span> <span class="n">Port</span><span class="p">,</span> <span class="s1">&#39;baudrate&#39;</span><span class="p">:</span> <span class="n">Baudrate</span><span class="p">,</span> <span class="s1">&#39;parity&#39;</span><span class="p">:</span> <span class="n">Parity</span><span class="p">,</span> <span class="s1">&#39;datarate&#39;</span><span class="p">:</span> <span class="n">AirDataRate</span><span class="p">,</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>                   <span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="n">Address</span><span class="p">,</span> <span class="s1">&#39;channel&#39;</span><span class="p">:</span> <span class="n">Channel</span><span class="p">}</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">calcFrequency</span><span class="p">()</span>  <span class="c1"># calculate frequency (min frequency + channel*1 MHz)</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># transmission mode (default 0 - tranparent)</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;iomode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># IO mode (default 1 = not floating)</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;wutime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># wakeup time from sleep mode (default 0 = 250ms)</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;fec&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># forward error correction (default 1 = on)</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;txpower&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># transmission power (default 0 = 20dBm/100mW)</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>    <span class="c1">#</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">PinM0</span> <span class="o">=</span> <span class="n">PinM0</span>  <span class="c1"># M0 pin number</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">PinM1</span> <span class="o">=</span> <span class="n">PinM1</span>  <span class="c1"># M1 pin number</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">PinAUX</span> <span class="o">=</span> <span class="n">PinAUX</span>  <span class="c1"># AUX pin number</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">M0</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># instance for M0 Pin (set operation mode)</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">M1</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># instance for M1 Pin (set operation mode)</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># instance for AUX Pin (device status : 0=busy - 1=idle)</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># instance for UART</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.calcChecksum" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calcChecksum</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Calculates checksum for sending/receiving payloads. Sums the ASCII character values mod256 and returns
the lower byte of the two's complement of that value in hex notation.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calcChecksum</span><span class="p">(</span><span class="s1">&#39;{&quot;temperature&quot;:25.5,&quot;humidity&quot;:60.0}&#39;</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">&#39;37&#39;</span>
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>payload</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>payload to calculate checksum for</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
          </td>
          <td><p>checksum in hex notation</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="k">def</span> <span class="nf">calcChecksum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">):</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">    Calculates checksum for sending/receiving payloads. Sums the ASCII character values mod256 and returns</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">    the lower byte of the two&#39;s complement of that value in hex notation.</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">        &gt;&gt;&gt; calcChecksum(&#39;{&quot;temperature&quot;:25.5,&quot;humidity&quot;:60.0}&#39;)</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">        &#39;37&#39;</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">        payload (str): payload to calculate checksum for</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">        str: checksum in hex notation</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>    <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%2X</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">)</span> <span class="o">%</span> <span class="mi">256</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.calcFrequency" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calcFrequency</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Calculate the frequency (= minimum frequency + channel * 1MHz)</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calcFrequency</span><span class="p">()</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-678" name="__codelineno-0-678"></a><span class="k">def</span> <span class="nf">calcFrequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a><span class="sd">    Calculate the frequency (= minimum frequency + channel * 1MHz)</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a><span class="sd">        &gt;&gt;&gt; calcFrequency()</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a><span class="sd">        None</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a>    <span class="c1"># get minimum and maximum frequency</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a>    <span class="n">freqkey</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a>    <span class="n">minfreq</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">FREQ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">freqkey</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a>    <span class="n">maxfreq</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">FREQ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">freqkey</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a>    <span class="c1"># calculate frequency</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a>    <span class="n">freq</span> <span class="o">=</span> <span class="n">minfreq</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a>    <span class="k">if</span> <span class="n">freq</span> <span class="o">&gt;</span> <span class="n">maxfreq</span><span class="p">:</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxfreq</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hex</span><span class="p">(</span><span class="n">maxfreq</span> <span class="o">-</span> <span class="n">minfreq</span><span class="p">)</span>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">freq</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.decodeConfig" class="doc doc-heading">
<code class="highlight language-python"><span class="n">decodeConfig</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>decode the config message from the ebyte E32 LoRa module to update the config dictionary</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">decodeConfig</span><span class="p">([</span><span class="mh">0xC0</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">])</span>
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>message</code></td>
          <td>
                <code>list</code>
          </td>
          <td><p>config message to decode</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-518" name="__codelineno-0-518"></a><span class="k">def</span> <span class="nf">decodeConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a><span class="sd">    decode the config message from the ebyte E32 LoRa module to update the config dictionary</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a><span class="sd">        &gt;&gt;&gt; decodeConfig([0xC0, 0x00, 0x00, 0x00, 0x00, 0x00])</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a><span class="sd">        message (list): config message to decode</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a><span class="sd">        None</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>    <span class="c1"># message byte 0 = header</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>    <span class="n">header</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>    <span class="c1"># message byte 1 &amp; 2 = address</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="mi">256</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>    <span class="c1"># message byte 3 = speed (parity, baudrate, datarate)</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>    <span class="n">bits</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0:08b}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PARINV</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">BAUDRINV</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">DATARINV</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">5</span><span class="p">:])</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>    <span class="c1"># message byte 4 = channel</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>    <span class="c1"># message byte 5 = option (transmode, iomode, wutime, fec, txpower)</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>    <span class="n">bits</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0:08b}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;iomode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;wutime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;fec&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;txpower&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">6</span><span class="p">:])</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.encodeConfig" class="doc doc-heading">
<code class="highlight language-python"><span class="n">encodeConfig</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>encode the config dictionary to create the config message of the ebyte E32 LoRa module</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">encodeConfig</span><span class="p">()</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[192, 0, 1, 26, 4, 68]</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>list</code></td>          <td>
          </td>
          <td><p>config message if success, 'NOK' if error</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="k">def</span> <span class="nf">encodeConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">    encode the config dictionary to create the config message of the ebyte E32 LoRa module</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a><span class="sd">        &gt;&gt;&gt; encodeConfig()</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="sd">        [192, 0, 1, 26, 4, 68]</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">        list: config message if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>    <span class="c1"># Initialize config message</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>    <span class="n">message</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>    <span class="c1"># message byte 0 = header</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>    <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mh">0xC0</span><span class="p">)</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>    <span class="c1"># message byte 1 = high address</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>    <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span> <span class="o">//</span> <span class="mi">256</span><span class="p">)</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>    <span class="c1"># message byte 2 = low address</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>    <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="mi">256</span><span class="p">)</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>    <span class="c1"># message byte 3 = speed (parity, baudrate, datarate)</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>    <span class="n">bits</span> <span class="o">=</span> <span class="s1">&#39;0b&#39;</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>    <span class="n">bits</span> <span class="o">+=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PARSTR</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">])</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>    <span class="n">bits</span> <span class="o">+=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">BAUDRATE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">])</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>    <span class="n">bits</span> <span class="o">+=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">DATARATE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">])</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>    <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">))</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>    <span class="c1"># message byte 4 = channel</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>    <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">])</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>    <span class="c1"># message byte 5 = option (transmode, iomode, wutime, fec, txpower)</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>    <span class="n">bits</span> <span class="o">=</span> <span class="s1">&#39;0b&#39;</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>    <span class="n">bits</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">])</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>    <span class="n">bits</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;iomode&#39;</span><span class="p">])</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>    <span class="n">bits</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{0:03b}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;wutime&#39;</span><span class="p">])</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>    <span class="n">bits</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;fec&#39;</span><span class="p">])</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>    <span class="n">bits</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{0:02b}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;txpower&#39;</span><span class="p">])</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>    <span class="n">message</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">))</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>    <span class="k">return</span> <span class="n">message</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.getConfig" class="doc doc-heading">
<code class="highlight language-python"><span class="n">getConfig</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get config parameters from the ebyte E32 LoRa module</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">getConfig</span><span class="p">()</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">=================== CONFIG =====================</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">model               E32-868T20D</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">frequency           866Mhz</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">address             0x0001</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">channel             0x04</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="go">datarate            2.4kbps</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="go">port                U2</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="go">baudrate            9600bps</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="go">parity              8N1</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="go">transmission        transparent</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="go">IO mode             TXD AUX push-pull output, RXD pull-up input</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="go">wakeup time         250ms</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="go">FEC                 on</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="go">TX power            20dBm</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="go">================================================</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
          </td>
          <td><p>config parameters if success, 'NOK' if error</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>E(Error)</code>
          </td>
          <td><p>if error on getConfig</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-473" name="__codelineno-0-473"></a><span class="k">def</span> <span class="nf">getConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="sd">    Get config parameters from the ebyte E32 LoRa module</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a><span class="sd">        &gt;&gt;&gt; getConfig()</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a><span class="sd">        =================== CONFIG =====================</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a><span class="sd">        model       	E32-868T20D</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a><span class="sd">        frequency   	866Mhz</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a><span class="sd">        address     	0x0001</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a><span class="sd">        channel     	0x04</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a><span class="sd">        datarate    	2.4kbps</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a><span class="sd">        port        	U2</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a><span class="sd">        baudrate    	9600bps</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a><span class="sd">        parity      	8N1</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a><span class="sd">        transmission	transparent</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a><span class="sd">        IO mode     	TXD AUX push-pull output, RXD pull-up input</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a><span class="sd">        wakeup time 	250ms</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a><span class="sd">        FEC         	on</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a><span class="sd">        TX power    	20dBm</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a><span class="sd">        ================================================</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a><span class="sd">        str: config parameters if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a><span class="sd">        E (Error): if error on getConfig</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>        <span class="c1"># send the command</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="s1">&#39;getConfig&#39;</span><span class="p">)</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>        <span class="c1"># check result</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span><span class="p">:</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>        <span class="c1"># decode result</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">decodeConfig</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>        <span class="c1"># show config</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">showConfig</span><span class="p">()</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>        <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on getConfig: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>        <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.getVersion" class="doc doc-heading">
<code class="highlight language-python"><span class="n">getVersion</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get the version info from the ebyte E32 LoRa module</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">getVersion</span><span class="p">()</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">================= E32 MODULE ===================</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">model               433Mhz</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">version             16</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">features            30</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">================================================</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
          </td>
          <td><p>version info if success, 'NOK' if error</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>E(Error)</code>
          </td>
          <td><p>if error on getVersion</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-433" name="__codelineno-0-433"></a><span class="k">def</span> <span class="nf">getVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a><span class="sd">    Get the version info from the ebyte E32 LoRa module</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a><span class="sd">        &gt;&gt;&gt; getVersion()</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a><span class="sd">        ================= E32 MODULE ===================</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a><span class="sd">        model       	433Mhz</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a><span class="sd">        version     	16</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a><span class="sd">        features    	30</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a><span class="sd">        ================================================</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a><span class="sd">        str: version info if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a><span class="sd">        E (Error): if error on getVersion</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>        <span class="c1"># send the command</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="s1">&#39;getVersion&#39;</span><span class="p">)</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>        <span class="c1"># check result</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">:</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>        <span class="c1"># decode result</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>        <span class="n">freq</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">FREQV</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="s1">&#39;unknown&#39;</span><span class="p">)</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>        <span class="c1"># show version</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>        <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mh">0xc3</span><span class="p">:</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;================= E32 MODULE ===================&#39;</span><span class="p">)</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;model       </span><span class="se">\t</span><span class="si">%d</span><span class="s1">Mhz&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">freq</span><span class="p">))</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;version     </span><span class="se">\t</span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;features    </span><span class="se">\t</span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;================================================&#39;</span><span class="p">)</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>        <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on getVersion: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>        <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.loadConfigFromJson" class="doc doc-heading">
<code class="highlight language-python"><span class="n">loadConfigFromJson</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Load config dictionary from JSON file</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">loadConfigFromJson</span><span class="p">()</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">{&#39;parity&#39;: &#39;8N1&#39;, &#39;datarate&#39;: &#39;2.4k&#39;, &#39;model&#39;: &#39;868T20D&#39;, &#39;channel&#39;: 4, &#39;transmode&#39;: 0, &#39;port&#39;: &#39;U2&#39;, &#39;frequency&#39;: 866, &#39;baudrate&#39;: 9600, &#39;txpower&#39;: 0, &#39;iomode&#39;: 1, &#39;wutime&#39;: 0, &#39;address&#39;: 1, &#39;fec&#39;: 1}</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>dict</code></td>          <td>
          </td>
          <td><p>config dictionary</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-663" name="__codelineno-0-663"></a><span class="k">def</span> <span class="nf">loadConfigFromJson</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a><span class="sd">    Load config dictionary from JSON file</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a><span class="sd">        &gt;&gt;&gt; loadConfigFromJson()</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a><span class="sd">        {&#39;parity&#39;: &#39;8N1&#39;, &#39;datarate&#39;: &#39;2.4k&#39;, &#39;model&#39;: &#39;868T20D&#39;, &#39;channel&#39;: 4, &#39;transmode&#39;: 0, &#39;port&#39;: &#39;U2&#39;, &#39;frequency&#39;: 866, &#39;baudrate&#39;: 9600, &#39;txpower&#39;: 0, &#39;iomode&#39;: 1, &#39;wutime&#39;: 0, &#39;address&#39;: 1, &#39;fec&#39;: 1}</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a><span class="sd">        dict: config dictionary</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;E32config.json&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.recvMessage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">recvMessage</span><span class="p">(</span><span class="n">from_address</span><span class="p">,</span> <span class="n">from_channel</span><span class="p">,</span> <span class="n">useChecksum</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Receive payload messages from ebyte E32 LoRa modules in transparent or fixed mode. The payload is a JSON string
of a data dictionary to accomodate key value pairs commonly used to store sensor data. If checksumming is used, the
checksum of the received payload including the checksum byte should result in 0 for a correct transmission.
- transparent mode : payload will be received if the module has the same address and channel of the transmitter
- fixed mode : only payloads from transmitters with this address and channel will be received;
               if the address is 0xFFFF, payloads from all transmitters with this channel will be received</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">recvMessage</span><span class="p">(</span><span class="mh">0x0000</span><span class="p">,</span> <span class="mh">0x06</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">{&#39;temperature&#39;: 25.5, &#39;humidity&#39;: 60.0}</span>
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>from_address</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>source address (0x0000 - 0xFFFF)</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>from_channel</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>source channel (0x00 - 0x1F)</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>useChecksum</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>use 2's complement checksum (default: False)</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>dict</code></td>          <td>
          </td>
          <td><p>data dictionary with payload data if success, None if error</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>E(Error)</code>
          </td>
          <td><p>if error on recvMessage</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-247" name="__codelineno-0-247"></a><span class="k">def</span> <span class="nf">recvMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">from_address</span><span class="p">,</span> <span class="n">from_channel</span><span class="p">,</span> <span class="n">useChecksum</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="sd">    Receive payload messages from ebyte E32 LoRa modules in transparent or fixed mode. The payload is a JSON string</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><span class="sd">    of a data dictionary to accomodate key value pairs commonly used to store sensor data. If checksumming is used, the</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a><span class="sd">    checksum of the received payload including the checksum byte should result in 0 for a correct transmission.</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><span class="sd">    - transparent mode : payload will be received if the module has the same address and channel of the transmitter</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a><span class="sd">    - fixed mode : only payloads from transmitters with this address and channel will be received;</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a><span class="sd">                   if the address is 0xFFFF, payloads from all transmitters with this channel will be received</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a><span class="sd">        &gt;&gt;&gt; recvMessage(0x0000, 0x06, True)</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a><span class="sd">        {&#39;temperature&#39;: 25.5, &#39;humidity&#39;: 60.0}</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">        from_address (int): source address (0x0000 - 0xFFFF)</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">        from_channel (int): source channel (0x00 - 0x1F)</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">        useChecksum (bool): use 2&#39;s complement checksum (default: False)</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">        dict: data dictionary with payload data if success, None if error</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">        E (Error): if error on recvMessage</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>        <span class="c1"># type of transmission</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>        <span class="k">if</span> <span class="p">(</span><span class="n">from_address</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="n">from_channel</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]):</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>            <span class="c1"># transparent transmission mode</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>            <span class="c1"># all modules with the same address and channel will receive the message</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setTransmissionMode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>            <span class="c1"># fixed transmission mode</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>            <span class="c1"># only the module with the target address and channel will receive the message</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setTransmissionMode</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>        <span class="c1"># put into normal mode</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setOperationMode</span><span class="p">(</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>        <span class="c1"># receive message</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>        <span class="n">js_payload</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>        <span class="c1"># debug</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">js_payload</span><span class="p">)</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>        <span class="c1"># did we receive anything ?</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>        <span class="k">if</span> <span class="n">js_payload</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>            <span class="c1"># nothing</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;msg&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>            <span class="c1"># decode message</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">js_payload</span><span class="p">)):</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">js_payload</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>            <span class="c1"># checksum check</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>            <span class="k">if</span> <span class="n">useChecksum</span><span class="p">:</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>                <span class="n">cs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calcChecksum</span><span class="p">(</span><span class="n">msg</span><span class="p">),</span> <span class="mi">16</span><span class="p">)</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>                <span class="k">if</span> <span class="n">cs</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>                    <span class="c1"># corrupt</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>                    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;msg&#39;</span><span class="p">:</span> <span class="s1">&#39;corrupt message, checksum &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cs</span><span class="p">)}</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>                    <span class="c1"># message ok, remove checksum</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>            <span class="c1"># JSON to dictionary</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>            <span class="n">message</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>            <span class="k">return</span> <span class="n">message</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on recvMessage: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>        <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.reset" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reset</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Reset the ebyte E32 Lora module</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">reset</span><span class="p">()</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">&#39;OK&#39;</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
          </td>
          <td><p>'OK' if success, 'NOK' if error</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>E(Error)</code>
          </td>
          <td><p>if error on reset</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-332" name="__codelineno-0-332"></a><span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">    Reset the ebyte E32 Lora module</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">        &gt;&gt;&gt; reset()</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">        &#39;OK&#39;</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="sd">        str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">        E (Error): if error on reset</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>        <span class="c1"># send the command</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="s1">&#39;reset&#39;</span><span class="p">)</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span class="c1"># discard result</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>        <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error on reset&quot;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>        <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.saveConfigToJson" class="doc doc-heading">
<code class="highlight language-python"><span class="n">saveConfigToJson</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Save config dictionary to JSON file</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">saveConfigToJson</span><span class="p">()</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-650" name="__codelineno-0-650"></a><span class="k">def</span> <span class="nf">saveConfigToJson</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a><span class="sd">    Save config dictionary to JSON file</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a><span class="sd">        &gt;&gt;&gt; saveConfigToJson()</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a><span class="sd">        None</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/E32config.json&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.sendCommand" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sendCommand</span><span class="p">(</span><span class="n">command</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Send a command to the ebyte E32 LoRa module.
The module has to be in sleep mode</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">sendCommand</span><span class="p">(</span><span class="s1">&#39;reset&#39;</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">&#39;OK&#39;</span>
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>command</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>command to send</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
          </td>
          <td><p>'OK' if success, 'NOK' if error</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>E(Error)</code>
          </td>
          <td><p>if error on sendCommand</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-382" name="__codelineno-0-382"></a><span class="k">def</span> <span class="nf">sendCommand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a><span class="sd">    Send a command to the ebyte E32 LoRa module.</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="sd">    The module has to be in sleep mode</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a><span class="sd">        &gt;&gt;&gt; sendCommand(&#39;reset&#39;)</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a><span class="sd">        &#39;OK&#39;</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a><span class="sd">        command (str): command to send</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a><span class="sd">        str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a><span class="sd">        E (Error): if error on sendCommand</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>        <span class="c1"># put into sleep mode</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setOperationMode</span><span class="p">(</span><span class="s1">&#39;sleep&#39;</span><span class="p">)</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>        <span class="c1"># send command</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>        <span class="n">HexCmd</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">CMDS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>        <span class="k">if</span> <span class="n">HexCmd</span> <span class="ow">in</span> <span class="p">[</span><span class="mh">0xC0</span><span class="p">,</span> <span class="mh">0xC2</span><span class="p">]:</span>  <span class="c1"># set config to device</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>            <span class="n">header</span> <span class="o">=</span> <span class="n">HexCmd</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>            <span class="n">HexCmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encodeConfig</span><span class="p">()</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>            <span class="n">HexCmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">header</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>        <span class="k">else</span><span class="p">:</span>  <span class="c1"># get config, get version, reset</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>            <span class="n">HexCmd</span> <span class="o">=</span> <span class="p">[</span><span class="n">HexCmd</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">HexCmd</span><span class="p">)</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">HexCmd</span><span class="p">))</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>        <span class="c1"># wait for result</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>        <span class="c1"># read result</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>        <span class="k">if</span> <span class="n">command</span> <span class="o">==</span> <span class="s1">&#39;reset&#39;</span><span class="p">:</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>            <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>            <span class="c1"># wait for result</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>            <span class="c1"># debug</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>                <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>        <span class="k">return</span> <span class="n">result</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on sendCommand: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.sendMessage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sendMessage</span><span class="p">(</span><span class="n">to_address</span><span class="p">,</span> <span class="n">to_channel</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">useChecksum</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Send the payload to ebyte E32 LoRa modules in transparent or fixed mode. The payload is a data dictionary to
accomodate key value pairs commonly used to store sensor data and is converted to a JSON string before sending.
The payload can be appended with a 2's complement checksum to validate correct transmission.</p>
<ul>
<li>transparent mode : all modules with the same address and channel of the transmitter will receive the payload</li>
<li>fixed mode : only the module with this address and channel will receive the payload;
               if the address is 0xFFFF all modules with the same channel will receive the payload</li>
</ul>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">sendMessage</span><span class="p">(</span><span class="mh">0x0000</span><span class="p">,</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;temperature&#39;</span><span class="p">:</span> <span class="mf">25.5</span><span class="p">,</span> <span class="s1">&#39;humidity&#39;</span><span class="p">:</span> <span class="mf">60.0</span><span class="p">},</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">&#39;OK&#39;</span>
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>to_address</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>target address (0x0000 - 0xFFFF)</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>to_channel</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>target channel (0x00 - 0x1F)</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>payload</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>data dictionary to send</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>useChecksum</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>use 2's complement checksum (default: False)</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
          </td>
          <td><p>'OK' if success, 'NOK' if error</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>E(Error)</code>
          </td>
          <td><p>if error on sendMessage</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="k">def</span> <span class="nf">sendMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to_address</span><span class="p">,</span> <span class="n">to_channel</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">useChecksum</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">    Send the payload to ebyte E32 LoRa modules in transparent or fixed mode. The payload is a data dictionary to</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">    accomodate key value pairs commonly used to store sensor data and is converted to a JSON string before sending.</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">    The payload can be appended with a 2&#39;s complement checksum to validate correct transmission.</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">    - transparent mode : all modules with the same address and channel of the transmitter will receive the payload</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">    - fixed mode : only the module with this address and channel will receive the payload;</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">                   if the address is 0xFFFF all modules with the same channel will receive the payload</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">        &gt;&gt;&gt; sendMessage(0x0000, 0x06, {&#39;temperature&#39;: 25.5, &#39;humidity&#39;: 60.0}, True)</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">        &#39;OK&#39;</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">        to_address (int): target address (0x0000 - 0xFFFF)</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">        to_channel (int): target channel (0x00 - 0x1F)</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">        payload (dict): data dictionary to send</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">        useChecksum (bool): use 2&#39;s complement checksum (default: False)</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">        str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">        E (Error): if error on sendMessage</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>        <span class="c1"># type of transmission</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>        <span class="k">if</span> <span class="p">(</span><span class="n">to_address</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="n">to_channel</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]):</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>            <span class="c1"># transparent transmission mode</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>            <span class="c1"># all modules with the same address and channel will receive the payload</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setTransmissionMode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>            <span class="c1"># fixed transmission mode</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>            <span class="c1"># only the module with the target address and channel will receive the payload</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setTransmissionMode</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>        <span class="c1"># put into wakeup mode (includes preamble signals to wake up device in powersave or sleep mode)</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setOperationMode</span><span class="p">(</span><span class="s1">&#39;wakeup&#39;</span><span class="p">)</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>        <span class="c1"># check payload</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;payload is not a dictionary&#39;</span><span class="p">)</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>            <span class="k">return</span> <span class="s1">&#39;NOK&#39;</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>        <span class="c1"># encode message</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>        <span class="n">msg</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># only for fixed transmission mode</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>            <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_address</span> <span class="o">//</span> <span class="mi">256</span><span class="p">)</span>  <span class="c1"># high address byte</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>            <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_address</span> <span class="o">%</span> <span class="mi">256</span><span class="p">)</span>  <span class="c1"># low address byte</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>            <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_channel</span><span class="p">)</span>  <span class="c1"># channel</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>        <span class="n">js_payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>  <span class="c1"># convert payload to JSON string</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">js_payload</span><span class="p">)):</span>  <span class="c1"># message</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>            <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">js_payload</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>  <span class="c1"># ascii code of character</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span class="k">if</span> <span class="n">useChecksum</span><span class="p">:</span>  <span class="c1"># attach 2&#39;s complement checksum</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>            <span class="n">msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calcChecksum</span><span class="p">(</span><span class="n">js_payload</span><span class="p">),</span> <span class="mi">16</span><span class="p">))</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>        <span class="c1"># debug</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>        <span class="c1"># wait for idle module</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">waitForDeviceIdle</span><span class="p">()</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>        <span class="c1"># send the message</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>        <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on sendMessage: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>        <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.setConfig" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setConfig</span><span class="p">(</span><span class="n">save_cmd</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set config parameters for the ebyte E32 LoRa module</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">setConfig</span><span class="p">(</span><span class="s1">&#39;setConfigPwrDwnSave&#39;</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">&#39;OK&#39;</span>
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>save_cmd</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>'setConfigPwrDwnSave' or 'setConfig'</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
          </td>
          <td><p>'OK' if success, 'NOK' if error</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-717" name="__codelineno-0-717"></a><span class="k">def</span> <span class="nf">setConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_cmd</span><span class="p">):</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a><span class="sd">    Set config parameters for the ebyte E32 LoRa module</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a><span class="sd">        &gt;&gt;&gt; setConfig(&#39;setConfigPwrDwnSave&#39;)</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a><span class="sd">        &#39;OK&#39;</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a><span class="sd">        save_cmd (str): &#39;setConfigPwrDwnSave&#39; or &#39;setConfig&#39;</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a><span class="sd">        str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a>        <span class="c1"># send the command</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="n">save_cmd</span><span class="p">)</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a>        <span class="c1"># check result</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span><span class="p">:</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>            <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>        <span class="c1"># debug</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>            <span class="c1"># decode result</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">decodeConfig</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>            <span class="c1"># show config</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">showConfig</span><span class="p">()</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>        <span class="c1"># save config to json file</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">saveConfigToJson</span><span class="p">()</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>        <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on setConfig: &#39;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>        <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.setOperationMode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setOperationMode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set operation mode of the E32 LoRa module</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">setOperationMode</span><span class="p">(</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
</code></pre></div>
      <p>Args:
     mode (str): 'normal', 'wakeup', 'powerdown', 'sleep'</p>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-752" name="__codelineno-0-752"></a><span class="k">def</span> <span class="nf">setOperationMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a><span class="sd">    Set operation mode of the E32 LoRa module</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a><span class="sd">   Examples:</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a><span class="sd">        &gt;&gt;&gt; setOperationMode(&#39;normal&#39;)</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a><span class="sd">        mode (str): &#39;normal&#39;, &#39;wakeup&#39;, &#39;powerdown&#39;, &#39;sleep&#39;</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a>    <span class="c1"># get operation mode settings (default normal)</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a>    <span class="n">bits</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">OPERMODE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="s1">&#39;00&#39;</span><span class="p">)</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>    <span class="c1"># set operation mode</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">M0</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">bits</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a>    <span class="c1"># wait a moment</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.setTransmissionMode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setTransmissionMode</span><span class="p">(</span><span class="n">transmode</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set the transmission mode of the E32 LoRa module</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">setTransmissionMode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transmode</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>0 = transparent, 1 = fixed length</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-700" name="__codelineno-0-700"></a><span class="k">def</span> <span class="nf">setTransmissionMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transmode</span><span class="p">):</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a><span class="sd">    Set the transmission mode of the E32 LoRa module</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a><span class="sd">        &gt;&gt;&gt; setTransmissionMode(0)</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a><span class="sd">        transmode (int): 0 = transparent, 1 = fixed length</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a><span class="sd">        None</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>    <span class="k">if</span> <span class="n">transmode</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]:</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transmode</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setConfig</span><span class="p">(</span><span class="s1">&#39;setConfigPwrDwnSave&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.showConfig" class="doc doc-heading">
<code class="highlight language-python"><span class="n">showConfig</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Show the config parameters of the ebyte E32 LoRa module on the shell</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">showConfig</span><span class="p">()</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">=================== CONFIG =====================</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">model               E32-868T20D</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">frequency           866Mhz</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">address             0x0001</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">channel             0x04</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="go">datarate            2.4kbps</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="go">port                U2</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="go">baudrate            9600bps</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="go">parity              8N1</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="go">transmission        transparent</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="go">IO mode             TXD AUX push-pull output, RXD pull-up input</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="go">wakeup time         250ms</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="go">FEC                 on</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="go">TX power            20dBm</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="go">================================================</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
          </td>
          <td><p>with the config parameters</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-587" name="__codelineno-0-587"></a><span class="k">def</span> <span class="nf">showConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a><span class="sd">    Show the config parameters of the ebyte E32 LoRa module on the shell</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a><span class="sd">        &gt;&gt;&gt; showConfig()</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a><span class="sd">        =================== CONFIG =====================</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a><span class="sd">        model       	E32-868T20D</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a><span class="sd">        frequency   	866Mhz</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a><span class="sd">        address     	0x0001</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a><span class="sd">        channel     	0x04</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a><span class="sd">        datarate    	2.4kbps</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a><span class="sd">        port        	U2</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a><span class="sd">        baudrate    	9600bps</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a><span class="sd">        parity      	8N1</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a><span class="sd">        transmission	transparent</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a><span class="sd">        IO mode     	TXD AUX push-pull output, RXD pull-up input</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a><span class="sd">        wakeup time 	250ms</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a><span class="sd">        FEC         	on</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a><span class="sd">        TX power    	20dBm</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a><span class="sd">        ================================================</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a><span class="sd">        str: with the config parameters</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;=================== CONFIG =====================&#39;</span><span class="p">)</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;model       </span><span class="se">\t</span><span class="s1">E32-</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;frequency   </span><span class="se">\t</span><span class="si">%d</span><span class="s1">Mhz&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;address     </span><span class="se">\t</span><span class="s1">0x</span><span class="si">%04x</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;channel     </span><span class="se">\t</span><span class="s1">0x</span><span class="si">%02x</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;datarate    </span><span class="se">\t</span><span class="si">%s</span><span class="s1">bps&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;port        </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;baudrate    </span><span class="se">\t</span><span class="si">%d</span><span class="s1">bps&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;parity      </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">]))</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;transmission</span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">TRANSMODE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;transmode&#39;</span><span class="p">])))</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;IO mode     </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">IOMODE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;iomode&#39;</span><span class="p">])))</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;wakeup time </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">WUTIME</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;wutime&#39;</span><span class="p">])))</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;FEC         </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">FEC</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;fec&#39;</span><span class="p">])))</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>    <span class="n">maxp</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">MAXPOW</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">][</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TX power    </span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">TXPOWER</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;txpower&#39;</span><span class="p">])[</span><span class="n">maxp</span><span class="p">]))</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;================================================&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.start" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Start the ebyte E32 LoRa module</p>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>E(Error)</code>
          </td>
          <td><p>if error on start UART</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">    Start the ebyte E32 LoRa module</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        E (Error): if error on start UART</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>        <span class="c1"># check parameters</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">FREQ</span><span class="p">:</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;868T20D&#39;</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PORT</span><span class="p">:</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;U1&#39;</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">BAUDRATE</span><span class="p">:</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;baudrate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9600</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PARSTR</span><span class="p">:</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;8N1&#39;</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">DATARATE</span><span class="p">:</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;datarate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;2.4k&#39;</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">31</span><span class="p">:</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">31</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>        <span class="c1"># make UART instance</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span> <span class="o">=</span> <span class="n">busio</span><span class="o">.</span><span class="n">UART</span><span class="p">(</span><span class="n">ebyteE32</span><span class="o">.</span><span class="n">PORT</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>                                 <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PORT</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">])[</span><span class="mi">1</span><span class="p">],</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>        <span class="c1"># init UART</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>        <span class="n">par</span> <span class="o">=</span> <span class="n">ebyteE32</span><span class="o">.</span><span class="n">PARBIT</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;parity&#39;</span><span class="p">])[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>        <span class="c1"># self.serdev.init(baudrate=self.config[&#39;baudrate&#39;], bits=8, parity=par, stop=1)</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="p">)</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>        <span class="c1"># make operation mode &amp; device status instances</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">M0</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">DigitalInOut</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PinM0</span><span class="p">)</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">M0</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Direction</span><span class="o">.</span><span class="n">OUTPUT</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">M1</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">DigitalInOut</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PinM1</span><span class="p">)</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Direction</span><span class="o">.</span><span class="n">OUTPUT</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">DigitalInOut</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PinAUX</span><span class="p">)</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Direction</span><span class="o">.</span><span class="n">INPUT</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span><span class="o">.</span><span class="n">pull</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Pull</span><span class="o">.</span><span class="n">UP</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">M0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">M1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span><span class="p">)</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>        <span class="c1"># set config to the ebyte E32 LoRa module</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setConfig</span><span class="p">(</span><span class="s1">&#39;setConfigPwrDwnSave&#39;</span><span class="p">)</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>        <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error on start UART&quot;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>        <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.stop" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Stop the ebyte E32 LoRa module</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">stop</span><span class="p">()</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">&#39;OK&#39;</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
          </td>
          <td><p>'OK' if success, 'NOK' if error</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>E(Error)</code>
          </td>
          <td><p>if error on stop</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="sd">    Stop the ebyte E32 LoRa module</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a><span class="sd">        &gt;&gt;&gt; stop()</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="sd">        &#39;OK&#39;</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a><span class="sd">        str: &#39;OK&#39; if success, &#39;NOK&#39; if error</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a><span class="sd">        E (Error): if error on stop</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">serdev</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>        <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">E</span><span class="p">:</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error on stop UART&quot;</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>        <span class="k">return</span> <span class="s2">&quot;NOK&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="loraE32cp.ebyteE32.waitForDeviceIdle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">waitForDeviceIdle</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Wait for the E32 LoRa module to become idle (AUX pin high)</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">waitForDeviceIdle</span><span class="p">()</span>
</code></pre></div>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>loraE32/loraE32cp.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-629" name="__codelineno-0-629"></a><span class="k">def</span> <span class="nf">waitForDeviceIdle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a><span class="sd">    Wait for the E32 LoRa module to become idle (AUX pin high)</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a><span class="sd">        &gt;&gt;&gt; waitForDeviceIdle()</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a><span class="sd">        None</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a>    <span class="c1"># loop for device busy</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a>    <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">AUX</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a>        <span class="c1"># increment count</span>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a>        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a>        <span class="c1"># maximum wait time 100 ms</span>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a>            <span class="k">break</span>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a>        <span class="c1"># sleep for 10 ms</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Home" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
        
        <a href="../examples/" class="md-footer__link md-footer__link--next" aria-label="Next: Examples index" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Examples index
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant"], "search": "../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.078830c0.min.js"></script>
      
    
  </body>
</html>